{% extends "base.html" %}

{% block content %}
<div class="header-section">
    <h1>AI Price Prediction</h1>
    <p>Forecast generated by Linear Regression & Sentiment Fusion.</p>
</div>

<div class="prediction-container">

    <div class="prediction-main">
        <h2>Forecast for Next 7 Days</h2>
        <div class="prediction-table">
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Predicted Price (USD)</th>
                        <th>Trend Indicator</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in range(prediction.future_dates|length) %}
                    <tr>
                        <td>{{ prediction.future_dates[i] }}</td>
                        <td>${{ prediction.future_prices[i] }}</td>
                        <td>
                            {% if prediction.slope > 0 %}
                            <span class="trend-bullish">Bullish ðŸ”¼</span>
                            {% elif prediction.slope < 0 %} <span class="trend-bearish">Bearish ðŸ”½</span>
                                {% else %}
                                <span class="trend-neutral">Stable âž–</span>
                                {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="ai-analysis-box">
        <h3>AI Analyst Insight ðŸ¤–</h3>
        <p>
            The market sentiment is currently <strong>{{ sentiment.mood }}</strong> with an average score of <strong>{{
                sentiment.average_score }}</strong>.

            {% if sentiment.mood == 'Bullish' and prediction.trend == 'Bullish' %}
            Both technical indicators and news sentiment align for a <span class="highlight-green">Strong Buy</span>
            signal.
            {% elif sentiment.mood == 'Bearish' and prediction.trend == 'Bearish' %}
            Negative sentiment and downward technical trends suggest a <span class="highlight-red">Strong Sell</span>
            signal.
            {% else %}
            Mixed signals detected. Volatility may be high. Recommended to <span class="highlight-yellow">Hold</span>
            until trend confirms.
            {% endif %}
        </p>
    </div>

</div>
{% endblock %}